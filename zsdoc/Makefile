# This Makefile is to convert supplied Asciidoc files into
# other formats like pdf and man. The files contain Zplugin's
# code documentation.
#
# *.adoc files are generated by Makefile from upper (i.e. top)
# directory.

all: man pdf

# MANUALS
# Converted with a2x from asciidoc package

man: man/crasis.1

man/crasis.1:
	@mkdir -p man
	a2x --verbose -L --doctype manpage --format manpage -D man crasis.adoc

# PDFS
# Uses asciidoctor not a2x (i.e. not asciidoc)

pdf: pdf/crasis.pdf

pdf/crasis.pdf:
	@mkdir -p pdf
	asciidoctor -a reproducible -b pdf -r asciidoctor-pdf -D pdf crasis.adoc

clean:
	rm -rf man pdf data

.PHONY: man pdf clean

# vim:noet:sts=8:ts=8
